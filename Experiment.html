<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineMagic Pro - Interactive Movie Recommendations</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Montserrat:wght@800;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        :root {
            --primary: #8a2be2;
            --secondary: #ff2a6d;
            --dark: #0c0c1d;
            --light: #f5f5f7;
            --accent: #05d9e8;
            --card-bg: rgba(20, 20, 35, 0.7);
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glow: 0 0 20px rgba(138, 43, 226, 0.5);
            --modal-bg: rgba(15, 15, 30, 0.95);
        }

        body {
            background: linear-gradient(135deg, var(--dark) 0%, #1a1a2e 100%);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            transition: filter 0.5s ease;
        }

        body.modal-open {
            overflow: hidden;
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .cursor-trail {
            position: fixed;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
            pointer-events: none;
            mix-blend-mode: screen;
            transform: translate(-50%, -50%);
            z-index: 9999;
            opacity: 0.3;
            filter: blur(5px);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 2rem 0;
            position: relative;
            z-index: 10;
        }

        .logo {
            font-size: 2.8rem;
            font-weight: 800;
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            animation: float 3s ease-in-out infinite;
            text-shadow: 0 0 15px rgba(138, 43, 226, 0.5);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        nav a {
            color: var(--light);
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: 500;
            position: relative;
            padding: 0.5rem 0;
            transition: all 0.3s ease;
        }

        nav a:hover {
            color: var(--accent);
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--accent);
            transition: width 0.3s ease;
        }

        nav a:hover::after {
            width: 100%;
        }

        .hero {
            text-align: center;
            padding: 8rem 0 5rem;
            position: relative;
            z-index: 5;
            perspective: 1000px;
        }

        .hero-content {
            transform-style: preserve-3d;
            transition: transform 0.5s ease-out;
        }

        .hero h1 {
            font-size: 5rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            background: linear-gradient(45deg, var(--light), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 5px 25px rgba(5, 217, 232, 0.3);
            letter-spacing: -1px;
            line-height: 1.1;
            transform: translateZ(50px);
        }

        .hero p {
            font-size: 1.6rem;
            max-width: 700px;
            margin: 0 auto 3rem;
            color: rgba(245, 245, 247, 0.85);
            transform: translateZ(30px);
        }

        .search-box {
            max-width: 700px;
            margin: 0 auto;
            position: relative;
            background: var(--glass-bg);
            border-radius: 50px;
            padding: 0.5rem;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4), var(--glow);
            transform: translateZ(40px);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .search-box.focused {
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5), 0 0 40px rgba(138, 43, 226, 0.8);
            transform: translateZ(40px) scale(1.03);
        }

        .search-box input {
            width: 100%;
            background: transparent;
            border: none;
            padding: 1.2rem 2rem;
            font-size: 1.2rem;
            color: var(--light);
            outline: none;
        }

        .search-box input::placeholder {
            color: rgba(245, 245, 247, 0.6);
        }

        .search-box button {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            border: none;
            border-radius: 50%;
            width: 55px;
            height: 55px;
            color: var(--light);
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.4);
        }

        .search-box button:hover {
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 0 30px rgba(138, 43, 226, 0.7);
        }

        .movie-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2.5rem;
            margin: 5rem 0;
            position: relative;
            z-index: 5;
        }

        .movie-card {
            background: var(--card-bg);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            transform-style: preserve-3d;
            perspective: 1000px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            transition: transform 0.5s ease, box-shadow 0.5s ease;
            height: 420px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .movie-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent));
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: -1;
        }

        .movie-card:hover {
            transform: translateY(-20px) scale(1.03);
            box-shadow: 0 25px 50px rgba(138, 43, 226, 0.5);
        }

        .movie-card:hover::before {
            opacity: 0.3;
        }

        .movie-poster {
            width: 100%;
            height: 70%;
            position: relative;
            overflow: hidden;
        }

        .movie-poster img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .movie-card:hover .movie-poster img {
            transform: scale(1.15);
        }

        .movie-info {
            padding: 1.5rem;
            position: relative;
            z-index: 2;
            height: 30%;
        }

        .movie-info h3 {
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
            color: var(--light);
            font-weight: 700;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .movie-info .year {
            font-size: 1rem;
            color: var(--accent);
            font-weight: 500;
        }

        .movie-info .genre {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.8rem;
            flex-wrap: wrap;
        }

        .movie-info .genre span {
            background: rgba(255, 42, 109, 0.2);
            color: var(--secondary);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .movie-info .genre span:hover {
            transform: translateY(-3px);
            background: rgba(255, 42, 109, 0.3);
            box-shadow: 0 5px 15px rgba(255, 42, 109, 0.2);
        }

        .movie-info .rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #ffd700;
            font-weight: 600;
        }

        /* Movie Detail Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .movie-modal {
            background: var(--modal-bg);
            border-radius: 20px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.8) translateY(50px);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 2rem;
        }

        .modal-overlay.active .movie-modal {
            transform: scale(1) translateY(0);
            opacity: 1;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .close-modal:hover {
            background: var(--secondary);
            transform: rotate(90deg);
        }

        .close-modal i {
            font-size: 1.5rem;
            color: var(--light);
        }

        .modal-content {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 2rem;
        }

        .modal-poster {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
        }

        .modal-poster img {
            width: 100%;
            height: auto;
            display: block;
        }

        .modal-info {
            padding: 1rem 0;
        }

        .modal-info h2 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, var(--light), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .modal-info .year {
            font-size: 1.2rem;
            color: var(--accent);
            margin-bottom: 1rem;
        }

        .modal-meta {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .meta-item {
            display: flex;
            flex-direction: column;
        }

        .meta-label {
            font-size: 0.9rem;
            color: rgba(245, 245, 247, 0.7);
            margin-bottom: 0.3rem;
        }

        .meta-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--light);
        }

        .modal-genre {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .modal-genre span {
            background: rgba(255, 42, 109, 0.2);
            color: var(--secondary);
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .modal-description {
            margin-bottom: 2rem;
            line-height: 1.8;
            color: rgba(245, 245, 247, 0.9);
        }

        .modal-rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #ffd700;
            font-weight: 600;
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .modal-btn {
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .watchlist-btn {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: var(--light);
        }

        .trailer-btn {
            background: transparent;
            color: var(--accent);
            border: 2px solid var(--accent);
        }

        .modal-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(138, 43, 226, 0.5);
        }

        .parallax-element {
            position: absolute;
            z-index: 1;
            opacity: 0.3;
            filter: blur(1px);
        }

        .parallax-1 {
            top: 15%;
            left: 5%;
            font-size: 8rem;
            color: var(--primary);
            transform: rotate(-15deg);
        }

        .parallax-2 {
            top: 40%;
            right: 8%;
            font-size: 6rem;
            color: var(--secondary);
            transform: rotate(10deg);
        }

        .parallax-3 {
            bottom: 20%;
            left: 10%;
            font-size: 7rem;
            color: var(--accent);
            transform: rotate(5deg);
        }

        footer {
            text-align: center;
            padding: 3rem 0 2rem;
            color: rgba(245, 245, 247, 0.6);
            font-size: 1rem;
            position: relative;
            z-index: 10;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1rem;
        }

        .footer-links a {
            color: rgba(245, 245, 247, 0.6);
            font-size: 1.8rem;
            transition: all 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--accent);
            transform: translateY(-8px) scale(1.2);
            text-shadow: 0 0 15px rgba(5, 217, 232, 0.5);
        }

        /* Floating animation */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0px); }
        }

        /* Background animation */
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Search bar animation */
        @keyframes searchPulse {
            0% { box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4), 0 0 20px rgba(138, 43, 226, 0.5); }
            50% { box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4), 0 0 40px rgba(138, 43, 226, 0.8); }
            100% { box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4), 0 0 20px rgba(138, 43, 226, 0.5); }
        }

        /* Responsive design */
        @media (max-width: 1200px) {
            .hero h1 {
                font-size: 4rem;
            }
            
            .movie-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }

        @media (max-width: 992px) {
            .hero h1 {
                font-size: 3.5rem;
            }
            
            .hero p {
                font-size: 1.4rem;
            }
            
            .parallax-element {
                font-size: 5rem !important;
            }
            
            .modal-content {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 1.5rem;
            }
            
            .hero {
                padding: 5rem 0 3rem;
            }
            
            .hero h1 {
                font-size: 2.8rem;
            }
            
            .hero p {
                font-size: 1.2rem;
                padding: 0 1rem;
            }
            
            nav ul {
                gap: 1.2rem;
            }
            
            .parallax-element {
                display: none;
            }
            
            .modal-info h2 {
                font-size: 2rem;
            }
            
            .modal-meta {
                flex-direction: column;
                gap: 1rem;
            }
        }

        @media (max-width: 576px) {
            .hero h1 {
                font-size: 2.4rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .search-box {
                max-width: 90%;
            }
            
            .search-box input {
                padding: 1rem;
                font-size: 1rem;
            }
            
            .search-box button {
                width: 45px;
                height: 45px;
            }
            
            .movie-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .modal-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Particle background -->
    <div class="particles" id="particles"></div>
    
    <!-- Parallax elements -->
    <div class="parallax-element parallax-1">üé¨</div>
    <div class="parallax-element parallax-2">üçø</div>
    <div class="parallax-element parallax-3">üé•</div>
    
    <!-- Cursor trail -->
    <div class="cursor-trail" id="cursor-trail"></div>
    
    <div class="container">
        <header>
            <div class="logo">CineMagic Pro</div>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link">Home</a></li>
                    <li><a href="#" class="nav-link">Discover</a></li>
                    <li><a href="#" class="nav-link">Genres</a></li>
                    <li><a href="#" class="nav-link">My List</a></li>
                </ul>
            </nav>
        </header>
        
        <section class="hero">
            <div class="hero-content">
                <h1>Discover Cinematic Masterpieces</h1>
                <p>AI-powered movie recommendations tailored to your taste</p>
                <div class="search-box" id="search-box">
                    <input type="text" id="search-input" placeholder="Search for movies, actors, directors...">
                    <button><i class="fas fa-search"></i></button>
                </div>
            </div>
        </section>
        
        <section class="movie-grid" id="movie-grid">
            <!-- Movie cards will be generated here -->
        </section>
        
        <footer>
            <p>¬© 2023 CineMagic Pro - Interactive Movie Recommendations</p>
            <div class="footer-links">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-github"></i></a>
            </div>
        </footer>
    </div>
    
    <!-- Movie Detail Modal -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="movie-modal" id="movie-modal">
            <div class="close-modal" id="close-modal">
                <i class="fas fa-times"></i>
            </div>
            <div class="modal-content" id="modal-content">
                <!-- Content will be populated here -->
            </div>
        </div>
    </div>

    <script>
        // Movie data
        const movies = [
            {
                id: 1,
                title: "Inception",
                genre: ["Sci-Fi", "Thriller", "Mind-Bending"],
                rating: 8.8,
                description: "A thief who steals corporate secrets through dream-sharing technology is given the task of planting an idea into the mind of a C.E.O. But his tragic past may doom the project and his team to disaster. This visually stunning masterpiece explores the boundaries between dreams and reality, challenging the audience's perception of both.",
                year: 2010,
                duration: "148 min",
                director: "Christopher Nolan",
                cast: "Leonardo DiCaprio, Joseph Gordon-Levitt, Ellen Page",
                poster: "https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 2,
                title: "The Matrix",
                genre: ["Sci-Fi", "Action", "Cyberpunk"],
                rating: 8.7,
                description: "A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers. He joins them in their fight against the machines. The Matrix revolutionized action cinema with its innovative 'bullet time' effects and philosophical underpinnings.",
                year: 1999,
                duration: "136 min",
                director: "The Wachowskis",
                cast: "Keanu Reeves, Laurence Fishburne, Carrie-Anne Moss",
                poster: "https://images.unsplash.com/photo-1635805737707-575885ab0820?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 3,
                title: "Interstellar",
                genre: ["Sci-Fi", "Adventure", "Space"],
                rating: 8.6,
                description: "A team of explorers travel through a wormhole in space in an attempt to ensure humanity's survival. They must confront the vastness of space and the relativity of time. Directed by Christopher Nolan, this epic space odyssey combines cutting-edge science with human drama.",
                year: 2014,
                duration: "169 min",
                director: "Christopher Nolan",
                cast: "Matthew McConaughey, Anne Hathaway, Jessica Chastain",
                poster: "https://images.unsplash.com/photo-1596727147705-61a532a659bd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 4,
                title: "The Dark Knight",
                genre: ["Action", "Crime", "Drama"],
                rating: 9.0,
                description: "When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological tests of his ability to fight injustice. Heath Ledger's Oscar-winning performance as the Joker elevates this superhero film to a crime epic.",
                year: 2008,
                duration: "152 min",
                director: "Christopher Nolan",
                cast: "Christian Bale, Heath Ledger, Aaron Eckhart",
                poster: "https://images.unsplash.com/photo-1531259683007-016a7b628fc3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 5,
                title: "Parasite",
                genre: ["Drama", "Thriller", "Dark Comedy"],
                rating: 8.6,
                description: "Greed and class discrimination threaten the newly formed symbiotic relationship between the wealthy Park family and the destitute Kim clan in this Oscar-winning masterpiece. Directed by Bong Joon-ho, this genre-defying film became the first non-English language film to win Best Picture.",
                year: 2019,
                duration: "132 min",
                director: "Bong Joon-ho",
                cast: "Song Kang-ho, Lee Sun-kyun, Cho Yeo-jeong",
                poster: "https://images.unsplash.com/photo-1616530940355-351fabd9526b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 6,
                title: "La La Land",
                genre: ["Musical", "Romance", "Drama"],
                rating: 8.0,
                description: "While navigating their careers in Los Angeles, a pianist and an actress fall in love while attempting to reconcile their aspirations for the future in this modern musical. Director Damien Chazelle crafts a vibrant homage to classic Hollywood musicals with breathtaking dance sequences.",
                year: 2016,
                duration: "128 min",
                director: "Damien Chazelle",
                cast: "Ryan Gosling, Emma Stone, John Legend",
                poster: "https://images.unsplash.com/photo-1512149177596-f817c7ef5d4c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
            }
        ];

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Create movie cards
            renderMovies(movies);
            
            // Initialize animations
            initParticleBackground();
            initCursorTrail();
            initCardAnimations();
            initNavAnimations();
            initSearch();
            initParallax();
            initModal();
        });

        // Render movies to the grid
        function renderMovies(moviesArray) {
            const movieGrid = document.getElementById('movie-grid');
            movieGrid.innerHTML = '';
            
            moviesArray.forEach(movie => {
                const card = document.createElement('div');
                card.className = 'movie-card';
                card.dataset.id = movie.id;
                
                const genres = movie.genre.map(g => `<span>${g}</span>`).join('');
                
                card.innerHTML = `
                    <div class="movie-poster">
                        <img src="${movie.poster}" alt="${movie.title}">
                    </div>
                    <div class="movie-info">
                        <h3>${movie.title} <span class="year">(${movie.year})</span></h3>
                        
                        <div class="rating">
                            <i class="fas fa-star"></i> ${movie.rating}/10
                        </div>
                    </div>
                `;
                
                movieGrid.appendChild(card);
            });
            
            // Reinitialize card animations for new cards
            setTimeout(initCardAnimations, 100);
        }

        // Particle background
        function initParticleBackground() {
            const container = document.getElementById('particles');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);
            
            // Particles
            const particlesGeometry = new THREE.BufferGeometry();
            const particlesCount = 1500;
            
            const posArray = new Float32Array(particlesCount * 3);
            const colorArray = new Float32Array(particlesCount * 3);
            
            for(let i = 0; i < particlesCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 10;
                colorArray[i] = Math.random();
            }
            
            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            particlesGeometry.setAttribute('color', new THREE.BufferAttribute(colorArray, 3));
            
            // Material
            const particlesMaterial = new THREE.PointsMaterial({
                size: 0.02,
                vertexColors: true,
                transparent: true,
                opacity: 0.8,
                blending: THREE.AdditiveBlending
            });
            
            // Points mesh
            const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
            scene.add(particlesMesh);
            
            camera.position.z = 5;
            
            // Mouse move effect
            let mouseX = 0;
            let mouseY = 0;
            
            document.addEventListener('mousemove', (e) => {
                mouseX = (e.clientX / window.innerWidth) * 2 - 1;
                mouseY = -(e.clientY / window.innerHeight) * 2 + 1;
            });
            
            // Animation
            function animate() {
                requestAnimationFrame(animate);
                
                particlesMesh.rotation.x += 0.0005;
                particlesMesh.rotation.y += 0.001;
                
                // Move particles based on mouse position
                const positions = particlesGeometry.attributes.position.array;
                for(let i = 0; i < particlesCount; i++) {
                    const i3 = i * 3;
                    
                    // Create a gentle swaying effect based on mouse position
                    positions[i3] += (mouseX * 0.01 - positions[i3] * 0.01) * 0.1;
                    positions[i3 + 1] += (mouseY * 0.01 - positions[i3 + 1] * 0.01) * 0.1;
                }
                
                particlesGeometry.attributes.position.needsUpdate = true;
                
                renderer.render(scene, camera);
            }
            
            // Handle window resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
            
            animate();
        }

        // Smoother cursor trail effect
        function initCursorTrail() {
            const cursor = document.getElementById('cursor-trail');
            let trail = [];
            const trailLength = 15;
            const colors = ['#05d9e8', '#ff2a6d', '#8a2be2'];
            
            // Create trail elements
            for (let i = 0; i < trailLength; i++) {
                let trailDot = document.createElement('div');
                trailDot.className = 'cursor-trail';
                trailDot.style.opacity = 0.3 - (i * 0.02);
                trailDot.style.transform = `scale(${1 - (i * 0.05)})`;
                trailDot.style.background = `radial-gradient(circle, ${colors[i % 3]} 0%, transparent 70%)`;
                document.body.appendChild(trailDot);
                trail.push(trailDot);
            }
            
            let mouseX = 0;
            let mouseY = 0;
            let posX = 0;
            let posY = 0;
            
            // Mouse move event
            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });
            
            // Animation loop for cursor trail
            function animateTrail() {
                // Move the main cursor
                cursor.style.left = mouseX + 'px';
                cursor.style.top = mouseY + 'px';
                
                // Move trail elements
                for (let i = 0; i < trail.length; i++) {
                    const nextTrail = i === 0 ? cursor : trail[i - 1];
                    const nextX = parseInt(nextTrail.style.left);
                    const nextY = parseInt(nextTrail.style.top);
                    
                    // Calculate new position with easing
                    const diffX = nextX - parseInt(trail[i].style.left || 0);
                    const diffY = nextY - parseInt(trail[i].style.top || 0);
                    
                    posX = parseInt(trail[i].style.left || 0) + diffX * 0.2;
                    posY = parseInt(trail[i].style.top || 0) + diffY * 0.2;
                    
                    trail[i].style.left = posX + 'px';
                    trail[i].style.top = posY + 'px';
                    
                    // Add a slight rotation for fluid effect
                    trail[i].style.transform = `rotate(${i * 2}deg) scale(${1 - (i * 0.05)})`;
                }
                
                requestAnimationFrame(animateTrail);
            }
            
            animateTrail();
        }

        // Movie card animations
        function initCardAnimations() {
            const cards = document.querySelectorAll('.movie-card');
            
            cards.forEach(card => {
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    
                    const angleY = (x - centerX) / 20;
                    const angleX = (centerY - y) / 20;
                    
                    // Tilt effect
                    card.style.transform = `perspective(1000px) rotateX(${angleX}deg) rotateY(${angleY}deg) translateY(-20px) scale(1.03)`;
                    
                    // Glare effect
                    const glare = document.createElement('div');
                    glare.style.position = 'absolute';
                    glare.style.top = '0';
                    glare.style.left = '0';
                    glare.style.width = '100%';
                    glare.style.height = '100%';
                    glare.style.background = `radial-gradient(circle at ${x}px ${y}px, rgba(255,255,255,0.15), transparent)`;
                    glare.style.pointerEvents = 'none';
                    glare.style.zIndex = '1';
                    
                    // Remove previous glare
                    const oldGlare = card.querySelector('.glare');
                    if (oldGlare) oldGlare.remove();
                    
                    glare.classList.add('glare');
                    card.appendChild(glare);
                });
                
                card.addEventListener('mouseleave', () => {
                    gsap.to(card, {
                        duration: 0.8,
                        ease: "elastic.out(1, 0.5)",
                        rotateX: 0,
                        rotateY: 0,
                        scale: 1,
                        y: 0
                    });
                    
                    const glare = card.querySelector('.glare');
                    if (glare) {
                        gsap.to(glare, {
                            opacity: 0,
                            duration: 0.5,
                            onComplete: () => glare.remove()
                        });
                    }
                });
            });
        }

        // Navigation animations
        function initNavAnimations() {
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                link.addEventListener('mouseenter', () => {
                    gsap.to(link, {
                        y: -5,
                        duration: 0.3,
                        color: '#05d9e8',
                        textShadow: '0 0 10px rgba(5, 217, 232, 0.8)'
                    });
                });
                
                link.addEventListener('mouseleave', () => {
                    gsap.to(link, {
                        y: 0,
                        duration: 0.3,
                        color: '#f5f5f7',
                        textShadow: 'none'
                    });
                });
            });
        }

        // Search functionality
        function initSearch() {
            const searchBox = document.getElementById('search-box');
            const searchInput = document.getElementById('search-input');
            
            // Focus effect
            searchInput.addEventListener('focus', () => {
                searchBox.classList.add('focused');
                gsap.to(searchBox, {
                    duration: 0.5,
                    boxShadow: "0 20px 40px rgba(0, 0, 0, 0.5), 0 0 40px rgba(138, 43, 226, 0.8)"
                });
            });
            
            searchInput.addEventListener('blur', () => {
                searchBox.classList.remove('focused');
                gsap.to(searchBox, {
                    duration: 0.5,
                    boxShadow: "0 15px 35px rgba(0, 0, 0, 0.4), 0 0 20px rgba(138, 43, 226, 0.5)"
                });
            });
            
            // Real-time search
            searchInput.addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                
                if (searchTerm.length === 0) {
                    renderMovies(movies);
                    return;
                }
                
                const filteredMovies = movies.filter(movie => 
                    movie.title.toLowerCase().includes(searchTerm) ||
                    movie.genre.some(genre => genre.toLowerCase().includes(searchTerm)) ||
                    movie.description.toLowerCase().includes(searchTerm) ||
                    movie.year.toString().includes(searchTerm)
                );
                
                renderMovies(filteredMovies);
                
                // Add a subtle animation when showing results
                const movieGrid = document.getElementById('movie-grid');
                gsap.from(movieGrid.children, {
                    duration: 0.5,
                    opacity: 0,
                    y: 30,
                    stagger: 0.1,
                    ease: "back.out(1.7)"
                });
            });
        }

        // Parallax effect
        function initParallax() {
            // Hero section parallax
            document.addEventListener('mousemove', (e) => {
                const x = (window.innerWidth - e.pageX) / 50;
                const y = (window.innerHeight - e.pageY) / 50;
                
                const heroContent = document.querySelector('.hero-content');
                if (heroContent) {
                    heroContent.style.transform = `rotateY(${x}deg) rotateX(${y}deg)`;
                }
                
                // Parallax elements
                const parallaxElements = document.querySelectorAll('.parallax-element');
                parallaxElements.forEach(el => {
                    const speed = parseFloat(el.getAttribute('data-speed')) || 0.1;
                    const xMove = (window.innerWidth - e.pageX) * speed;
                    const yMove = (window.innerHeight - e.pageY) * speed;
                    
                    gsap.to(el, {
                        x: xMove / 10,
                        y: yMove / 10,
                        duration: 1,
                        ease: "power2.out"
                    });
                });
            });
        }

        // Modal functionality
       const modalOverlay = document.getElementById('modal-overlay');
    const closeModal = document.getElementById('close-modal');
    
    // Event delegation for movie card clicks
    document.addEventListener('click', function(e) {
        // Check if clicked element is a movie card or inside one
        let card = e.target.closest('.movie-card');
        if (card) {
            const movieId = card.dataset.id;
            const movie = movies.find(m => m.id == movieId);
            if (movie) {
                openMovieModal(movie);
            }
        }
    });
            
            // Close modal when clicking on close button
            closeModal.addEventListener('click', () => {
                closeMovieModal();
            });
            
            // Close modal when clicking outside
            modalOverlay.addEventListener('click', (e) => {
                if (e.target === modalOverlay) {
                    closeMovieModal();
                }
            });
            
            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modalOverlay.classList.contains('active')) {
                    closeMovieModal();
                }
            });
        
        
        // Open movie modal
        function openMovieModal(movie) {
            const modalOverlay = document.getElementById('modal-overlay');
            const modalContent = document.getElementById('modal-content');
            const genres = movie.genre.map(g => `<span>${g}</span>`).join('');
            
            modalContent.innerHTML = `
                <div class="modal-poster">
                    <img src="${movie.poster}" alt="${movie.title}">
                </div>
                <div class="modal-info">
                    <h2>${movie.title}</h2>
                    <div class="year">${movie.year}</div>
                    
                    <div class="modal-meta">
                        <div class="meta-item">
                            <div class="meta-label">Director</div>
                            <div class="meta-value">${movie.director}</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">Duration</div>
                            <div class="meta-value">${movie.duration}</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">Cast</div>
                            <div class="meta-value">${movie.cast}</div>
                        </div>
                    </div>
                    
                    <div class="modal-genre">
                        ${genres}
                    </div>
                    
                    <div class="modal-rating">
                        <i class="fas fa-star"></i> ${movie.rating}/10
                    </div>
                    
                    <div class="modal-description">
                        <p>${movie.description}</p>
                    </div>
                    
                    <div class="modal-actions">
                        <button class="modal-btn watchlist-btn">
                            <i class="fas fa-plus"></i> Add to Watchlist
                        </button>
                        <button class="modal-btn trailer-btn">
                            <i class="fas fa-play"></i> Watch Trailer
                        </button>
                    </div>
                </div>
            `;
            
            // Add body class to prevent scrolling
            document.body.classList.add('modal-open');
            
            // Show modal with animation
            modalOverlay.classList.add('active');
            
            // Add animation to buttons
            const buttons = document.querySelectorAll('.modal-btn');
            buttons.forEach(btn => {
                btn.addEventListener('mouseenter', () => {
                    gsap.to(btn, { scale: 1.05, duration: 0.3 });
                });
                
                btn.addEventListener('mouseleave', () => {
                    gsap.to(btn, { scale: 1, duration: 0.3 });
                });
            });
        }
        
        // Close movie modal
        function closeMovieModal() {
            const modalOverlay = document.getElementById('modal-overlay');
            
            // Animate closing
            modalOverlay.classList.remove('active');
            
            // Remove body class
            document.body.classList.remove('modal-open');
        }
    </script>
</body>
</html>